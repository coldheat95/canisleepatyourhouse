<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ÎãπÏã† ÏßëÏóêÏÑú Ïûò Ïàò ÏûàÎÇòÏöî? | Travel Vibe Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Fonts: Pretendard & Gaegu -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <link href="https://fonts.googleapis.com/css2?family=Gaegu:wght@700&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif;
            background-color: #fff;
            /* Prevent pull-to-refresh on mobile */
            overscroll-behavior: none; 
        }
        .handwriting {
            font-family: 'Gaegu', cursive;
        }
        
        /* Soft Gradient Animation */
        @keyframes soft-gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .animate-gradient-bg {
            background: linear-gradient(-45deg, #ffe4e6, #fae8ff, #e0f2fe, #dcfce7, #fef3c7);
            background-size: 300% 300%;
            animation: soft-gradient 20s ease infinite;
        }

        /* Animations */
        @keyframes slideUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        .animate-slide-up {
            animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        /* Ticket Perforation */
        .ticket-dots {
            background-image: radial-gradient(circle, transparent 6px, #fff 6px);
            background-size: 20px 20px;
            background-position: -10px -10px;
        }

        /* Custom Scrollbar */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }

        /* Mobile Hover Fix - Changed to Sky-Pink Gradient Theme */
        @media (hover: hover) {
            .hover-action:hover {
                /* sky-50 to pink-50 gradient */
                background-image: linear-gradient(to right, #f0f9ff, #fdf4ff);
                border-color: #7dd3fc; /* sky-300 */
                transform: translateY(-2px);
            }
        }
        .hover-action:active {
            /* sky-100 to pink-100 gradient */
            background-image: linear-gradient(to right, #e0f2fe, #fae8ff); 
            border-color: #7dd3fc; /* sky-300 */
            transform: scale(0.99);
        }
    </style>
</head>
<body class="h-[100dvh] w-full flex justify-center items-center relative text-slate-800 animate-gradient-bg overflow-hidden">
    
    <!-- Mobile Container -->
    <div id="root" class="relative z-10 w-full max-w-[420px] h-full sm:h-[90vh] sm:max-h-[850px] sm:rounded-[32px] bg-white/50 backdrop-blur-xl overflow-hidden flex flex-col sm:border-[8px] sm:border-white/40 sm:shadow-2xl"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- Data (15 Questions) ---
        const questions = [
            {
                id: 1,
                question: "ÎÇ¥ÏùºÏùÄ ÎìúÎîîÏñ¥ Ïó¨ÌñâÏßÄÎ°ú Îñ†ÎÇòÎäî ÎÇ†! ‚úàÔ∏è Ïßê Ïã∏Îäî ÎÇ¥ Î™®ÏäµÏùÄ?",
                options: [
                    { text: "ÏùºÏ£ºÏùº Ï†ÑÎ∂ÄÌÑ∞ Ï§ÄÎπÑ ÏôÑÎ£å! Ïù¥ÎØ∏ ÏôÑÎ≤ΩÌïòÍ≤å Î∂ÑÎ•òÌï¥ Îë†", traits: { J: 2 } },
                    { text: "Ïùå... Ïó¨Í∂åÏù¥Îûë ÏßÄÍ∞ëÎßå ÏûàÏúºÎ©¥ ÎêòÎäî Í±∞ ÏïÑÎÉê?", traits: { P: 2 } },
                    { text: "Í∞ÄÏÑú ÏûÖÏùÑ Ïò∑Ïù¥ Ï†úÏùº Ï§ëÏöîÌï¥! ÌòºÏûêÎßåÏùò Ìå®ÏÖòÏáº Í∞úÏµú", traits: { E: 1, S: 1 } },
                    { text: "ÎπÑÌñâÍ∏∞ÏóêÏÑú ÏùΩÏùÑ Ï±Ö, ÏùºÍ∏∞Ïû•, ÌïÑÎ¶Ñ Ïπ¥Î©îÎùºÎ∂ÄÌÑ∞ Ï±ôÍπÄ", traits: { I: 1, N: 1 } }
                ]
            },
            {
                id: 2,
                question: "Í≥µÌï≠ ÎèÑÏ∞©! üò± Ï†úÏûëÏßÑÏù¥ Ïä§ÎßàÌä∏Ìè∞ÏùÑ Í±∑Ïñ¥Í∞ÑÎã§Í≥† ÌïúÎã§Î©¥?",
                options: [
                    { text: "Ìóê ÎßêÎèÑ Ïïà Îèº! ÎßàÏßÄÎßâÍπåÏßÄ ÏπúÍµ¨Îì§ÏóêÍ≤å Ïπ¥ÌÜ° Î≥¥ÎÉÑ", traits: { E: 2 } },
                    { text: "Ïò§ÌûàÎ†§ Ï¢ãÏïÑ ÎÇòÎßåÏùò ÏãúÍ∞ÑÏóê ÏßëÏ§ëÌï†Îûò", traits: { I: 2, N: 1 } },
                    { text: "ÎπÑÏÉÅÍ∏àÏù¥ÎÇò ÏßÄÎèÑ Í∞ôÏùÄ ÌòÑÏã§Ï†ÅÏù∏ Î¨∏Ï†úÎ∂ÄÌÑ∞ Í±±Ï†ïÎê®", traits: { S: 2, J: 1 } },
                    { text: "Ïû¨ÎØ∏ÏûàÍ≤†Îã§! ÏßÑÏßú Î¶¨Ïñº ÏòàÎä• Ï∞çÎäî Í∏∞Î∂ÑÏù∏Í±∏?", traits: { P: 1, E: 1 } }
                ]
            },
            {
                id: 3,
                question: "ÏàôÏÜåÎ°ú Í∞ÄÎäî Í∏∏, ÎÇ°ÏùÄ ÏßÄÎèÑÎ•º Î¥êÎèÑ ÎèÑÎ¨¥ÏßÄ Í∏∏ÏùÑ Î™®Î•¥Í≤†Îã§...",
                options: [
                    { text: "ÏßÄÎÇòÍ∞ÄÎäî ÌòÑÏßÄÏù∏ Î∂ôÏû°Í≥† Î∞îÎ°ú Î¨ºÏñ¥Î≥∏Îã§ Ola! Help!", traits: { E: 2 } },
                    { text: "ÏùºÎã® ÏßÅÏßÑÌï¥ Î¥ê! Í∏∏ ÏûÉÎäî Í≤ÉÎèÑ Ïó¨ÌñâÏùò Î¨òÎØ∏ÏßÄ üéµ", traits: { P: 2, N: 1 } },
                    { text: "Ïπ®Ï∞©ÌïòÍ≤å ÌëúÏßÄÌåêÍ≥º ÌÉúÏñëÏùò ÏúÑÏπò(?)Î•º Î∂ÑÏÑùÌï¥ Î≥∏Îã§", traits: { T: 1, J: 1 } },
                    { text: "Ï°∞Ïö©Ìûà Îí§Îî∞ÎùºÍ∞ÄÎ©∞ ÌíçÍ≤Ω ÏÇ¨ÏßÑÏùÑ Ï∞çÎäîÎã§ (ÎàÑÍµ∞Í∞Ä Ï∞æÍ≤†ÏßÄ...)", traits: { I: 2 } }
                ]
            },
            {
                id: 4,
                question: "ÎìúÎîîÏñ¥ 8Î™ÖÏù¥ Îã§ Î™®ÏòÄÎã§! Ï≤´ Ï†ÄÎÖÅ ÏãùÏÇ¨ ÏûêÎ¶¨ÏóêÏÑúÏùò ÎÇòÎäî?",
                options: [
                    { text: "MC Î™®Îìú Î∞úÎèô! Î∂ÑÏúÑÍ∏∞ ÎùÑÏö∞Í≥† ÏßàÎ¨∏ ÎçòÏßÄÎäêÎùº Î∞îÏÅ®", traits: { E: 2 } },
                    { text: "ÏòÜ ÏÇ¨Îûå Ï±ôÍ≤® Ï£ºÍ≥† Î¶¨Ïï°ÏÖò Ïó¥Ïã¨Ìûà ÌïòÎ©∞ ÎßûÏû•Íµ¨ÏπúÎã§", traits: { F: 1, I: 1 } },
                    { text: "ÎßõÏûàÎäî ÏùåÏãùÏóê ÏßëÏ§ë! Î¨µÎ¨µÌûà ÏöîÎ¶¨Î•º ÏùåÎØ∏ÌïúÎã§", traits: { S: 1, I: 1 } },
                    { text: "ÏÇ¨ÎûåÎì§ Í¥ÄÏ∞∞ Ï§ë... 'Ï†Ä ÏÇ¨ÎûåÏùÄ Ï†ÄÎü∞ ÏÑ±Í≤©Ïù¥Íµ¨ÎÇò' Î∂ÑÏÑùÌï®", traits: { N: 1, T: 1 } }
                ]
            },
            {
                id: 5,
                question: "ÏòÜ Ïπ®ÎåÄ ÎèôÎ£åÍ∞Ä Ïû†Ïù¥ Ïïà Ïò®Îã§Î©∞ ÎßêÏùÑ Í±∏Ïñ¥Ïò®Îã§. ÎÇòÏùò Î∞òÏùëÏùÄ?",
                options: [
                    { text: "ÌîºÍ≥§ÌïòÏßÄÎßå... Î¨¥Ïä® Í≥†ÎØº ÏûàÏñ¥? ÎÅùÍπåÏßÄ ÏñòÍ∏∞Î•º Îì£ÎäîÎã§", traits: { F: 2 } },
                    { text: "Îî∞ÎúªÌïú Ïö∞Ïú†ÎÇò Ï∞®Î•º Í∞ÄÏ†∏Îã§ Ï§ÄÎã§", traits: { T: 1, J: 1 } },
                    { text: "Ïò§, Ïïà Í∑∏ÎûòÎèÑ Ïã¨Ïã¨ÌñàÎäîÎç∞! Î∞§ÏÉà ÏàòÎã§ Îñ®Îã§ Ïû†Îì¶", traits: { E: 1, P: 1 } },
                    { text: "Íøà ÏñòÍ∏∞ÎÇò Ïù∏ÏÉù ÏñòÍ∏∞ Í∞ôÏùÄ ÍπäÏùÄ Ï£ºÏ†úÎ°ú ÎåÄÌôîÍ∞Ä ÌùòÎü¨Í∞ê", traits: { N: 2 } }
                ]
            },
            {
                id: 6,
                question: "ÏûêÏú† ÏãúÍ∞Ñ! Ïó¨ÌñâÏßÄÏóêÏÑú Í∞ÄÏû• Í∞ÄÎ≥¥Í≥† Ïã∂ÏùÄ Í≥≥ÏùÄ?",
                options: [
                    { text: "ÏÇ¨ÎûåÎì§Î°ú Î∂ÅÏ†ÅÏù¥Îäî ÏãúÏû•Ïù¥ÎÇò Ìï´Ìïú ÌîåÎ†àÏù¥Ïä§", traits: { E: 2 } },
                    { text: "Ï°∞Ïö©Ìïú ÏÑúÏ†êÏù¥ÎÇò ÏïÑÎ¨¥ÎèÑ ÏóÜÎäî Ìï¥Î≥ÄÍ∞Ä ÏÇ∞Ï±Ö", traits: { I: 2 } },
                    { text: "Ïó≠ÏÇ¨Í∞Ä Îã¥Í∏¥ ÏÑ±ÎãπÏù¥ÎÇò Î∞ïÎ¨ºÍ¥Ä ÎèÑÏä®Ìä∏ Ìà¨Ïñ¥", traits: { T: 1, S: 1 } },
                    { text: "ÏòàÏÅú Í≥®Î™©Í∏∏ ÎèåÏïÑÎã§ÎãàÎ©∞ ÏòÅÍ∞ê ÏñªÍ∏∞", traits: { N: 1, F: 1 } }
                ]
            },
            {
                id: 7,
                question: "ÌåÄÏõêÍ≥º ÏùòÍ≤¨ Ï∂©Îèå! Î∂ÑÏúÑÍ∏∞Í∞Ä Ïã∏Ìï¥Ï°åÏùÑ Îïå ÎÇòÎäî?",
                options: [
                    { text: "ÏùºÎã® ÎÇ¥ ÏùòÍ≤¨ÏùÑ ÎÖºÎ¶¨Ï†ÅÏúºÎ°ú Îî±Îî± Ï†ïÎ¶¨Ìï¥ÏÑú ÎßêÌïúÎã§", traits: { T: 2 } },
                    { text: "ÏÇ¨Ïù¥Î•º Ï§ëÏû¨ÌïòÎ©∞ Î∂ÑÏúÑÍ∏∞Î•º Ïú†Î®∏Î°ú ÌëºÎã§", traits: { E: 1, F: 1 } },
                    { text: "ÏÉÅÏ≤òÎ∞õÏùÑÍπå Î¥ê ÎßêÏ°∞Ïã¨ÌïòÎ©∞ ÏÉÅÎåÄ Í∏∞Î∂ÑÏùÑ ÏÇ¥ÌïÄÎã§", traits: { F: 2 } },
                    { text: "ÎÇòÏ§ëÏóê Îî∞Î°ú Î∂àÎü¨ÏÑú Ï°∞Ïö©Ìûà ÎåÄÌôîÎ°ú ÌëºÎã§", traits: { I: 1 } }
                ]
            },
            {
                id: 8,
                question: "Î©ãÏßÑ ÌíçÍ≤ΩÏùÑ Î¥§ÏùÑ Îïå ÎÇ¥ Î®∏Î¶øÏÜçÏóê ÎìúÎäî ÏÉùÍ∞ÅÏùÄ?",
                options: [
                    { text: "ÏôÄ, ÎØ∏Ï≥§Îã§... ÎÑàÎ¨¥ ÏòàÎªê... (Í∞êÎèôÏùò ÎààÎ¨º Ï∞îÎÅî ü•∫)", traits: { F: 2 } },
                    { text: "Ïó¨Í∏∞ÏÑú ÏÇ¨ÏßÑ Ï∞çÏúºÎ©¥ Ïù∏Ïä§ÌÉÄ Í∞ÅÏù¥Îã§ üì∏", traits: { S: 1, E: 1 } },
                    { text: "Ï†Ä Í±¥Î¨ºÏùÄ 17ÏÑ∏Í∏∞Ïóê ÏßÄÏñ¥Ï°åÍ≤†ÏßÄ? Íµ¨Ï°∞Í∞Ä Ïã†Í∏∞ÌïòÎÑ§", traits: { T: 2 } },
                    { text: "Í≥ºÍ±∞Ïùò ÏÇ¨ÎûåÎì§ÎèÑ Ïù¥ ÎÖ∏ÏùÑÏùÑ Î¥§Í≤†ÏßÄ?", traits: { N: 2 } }
                ]
            },
            {
                id: 9,
                question: "ÎÇ¥Ïùº ÏùºÏ†ï Ïß§ ÏãúÍ∞Ñ! Ïñ¥Îñ§ Î∞©ÏãùÏù¥ Ï¢ãÏïÑ?",
                options: [
                    { text: "10:00 Í∏∞ÏÉÅ, 11:00 Î∏åÎü∞Ïπò... Î∂Ñ Îã®ÏúÑ Í≥ÑÌöçÌëú!", traits: { J: 2 } },
                    { text: "ÏùºÎã® ÌÅ∞ ÌãÄÎßå Ï†ïÌï¥ ÎëêÏûê", traits: { P: 1 } },
                    { text: "Í∑∏ÎÇ† ÎÇ†Ïî®Îûë Í∏∞Î∂Ñ Î≥¥Í≥† Ï†ïÌïòÎ©¥ Ïïà Îèº?", traits: { P: 2 } },
                    { text: "ÎßõÏßë, ÍµêÌÜµÌé∏, ÎèôÏÑ† Ìö®Ïú®ÏÑ± Ï≤¥ÌÅ¨Í∞Ä ÏµúÏö∞ÏÑ†!", traits: { T: 1, J: 1 } }
                ]
            },
            {
                id: 10,
                question: "Ïó¨Ìñâ Ï§ë ÏòàÏÉÅÏπò Î™ªÌïú ÎπÑÍ∞Ä ÏèüÏïÑÏßÑÎã§! ‚òîÔ∏è",
                options: [
                    { text: "ÏßúÏ¶ù ÎÇò... Ïò∑ Îã§ Ï†ñÏùÑ Í≤É Í∞ôÏùÄÎç∞? Ïö∞ÏÇ∞ ÌååÎäî Í≥≥ Í≤ÄÏÉâ", traits: { S: 1, T: 1 } },
                    { text: "ÎπÑ Ïò§Îäî Î¶¨Ïä§Î≥∏ÎèÑ Ïö¥Ïπò ÏûàÎã§! ÎπóÏÜåÎ¶¨ Í∞êÏÉÅ üéß", traits: { N: 1, F: 1 } },
                    { text: "Ïã§ÎÇ¥ ÏùºÏ†ïÏúºÎ°ú ÌîåÎûú B Í∞ÄÎèô! ÎãπÌô©ÌïòÏßÄ ÏïäÎäîÎã§", traits: { J: 2 } },
                    { text: "ÎπÑ ÎßûÍ≥† Îõ∞Ïñ¥! ÏòÅÌôîÏùò Ìïú Ïû•Î©¥Ï≤òÎüº ÎÜÄÏïÑ Î≥¥Ïûê!", traits: { P: 1, E: 1 } }
                ]
            },
            {
                id: 11,
                question: "ÎßàÏßÄÎßâ ÎÇ†, 'ÎãπÏã† ÏßëÏóêÏÑú Ïûò Ïàò ÏûàÎÇòÏöî?' ÏßàÎ¨∏Ìï† ÏÉÅÎåÄÎ•º Ï†ïÌï¥Ïïº ÌïúÎã§.",
                options: [
                    { text: "Í∞ÄÏû• ÎßàÏùåÏù¥ ÌÜµÌïòÍ≥† Ï†ïÏÑúÏ†ÅÏúºÎ°ú ÏùòÏßÄÌñàÎçò ÏÇ¨Îûå", traits: { F: 2 } },
                    { text: "Î∞∞Ïö∏ Ï†êÏù¥ ÎßéÍ≥† ÎåÄÌôîÍ∞Ä ÏßÄÏ†ÅÏúºÎ°ú ÌÜµÌñàÎçò ÏÇ¨Îûå", traits: { T: 2 } },
                    { text: "Ï†úÏùº Ïû¨Î∞åÍ≥† Í∞ôÏù¥ ÏûàÏúºÎ©¥ ÏãúÍ∞Ñ Í∞ÄÎäî Ï§Ñ Î™®Î•¥Îäî ÏÇ¨Îûå", traits: { E: 1, P: 1 } },
                    { text: "Î¨µÎ¨µÌûà Ï±ôÍ≤®Ï§¨Îçò Í≥†ÎßàÏö¥ ÏÇ¨Îûå", traits: { I: 1, S: 1 } }
                ]
            },
            {
                id: 12,
                question: "Î≤ÑÏä§ Ï∞ΩÎ∞ñÏúºÎ°ú ÎÇØÏÑ† ÌíçÍ≤ΩÏù¥ Ïä§Ï≥ê ÏßÄÎÇòÍ∞ÑÎã§. ÎãπÏã†Ïùò ÏÉùÍ∞ÅÏùÄ?",
                options: [
                    { text: "Ï†Ä Í∞ÑÌåê Í∏ÄÏî®Ï≤¥ ÌäπÏù¥ÌïòÎÑ§. Ï†Ä ÏÇ¨ÎûåÎì§ÏùÄ Î≠ò Í∏∞Îã§Î¶¨Îäî Í±∞ÏßÄ?", traits: { S: 2 } },
                    { text: "Ïù¥ Î≤ÑÏä§Îäî Ïñ¥ÎîîÎ°ú Í∞ÄÎäî Í±∏Íπå... ÎßàÏπò ÏòÅÌôî ÏÜç Ìïú Ïû•Î©¥ Í∞ôÏïÑ", traits: { N: 2 } },
                    { text: "Îã§Ïùå Ï†ïÍ±∞Ïû•ÏùÄ Ïñ¥ÎîîÏßÄ? Î≤ÑÏä§ ÎÖ∏ÏÑ† ÌôïÏù∏", traits: { S: 1, J: 1 } },
                    { text: "Ïù¥ ÎèÑÏãúÏóê ÏñΩÌûå Ïù¥ÏïºÍ∏∞Í∞Ä ÏûàÏùÑ Í≤ÉÎßå Í∞ôÏïÑ...", traits: { N: 1, F: 1 } }
                ]
            },
            {
                id: 13,
                question: "ÏπúÍµ¨Í∞Ä Ïó¨Ìñâ Í∏∞ÎÖêÌíàÏúºÎ°ú Î≠ò ÏÇ¥ÏßÄ Í≥†ÎØºÌïúÎã§. ÎÇòÏùò Ï°∞Ïñ∏ÏùÄ?",
                options: [
                    { text: "Í∞ÄÍ≤© ÎåÄÎπÑ ÌÄÑÎ¶¨Ìã∞Îäî Ïù¥Í≤å Ï†úÏùº ÎÇ´ÎÑ§ Ïù¥Í±∞ ÏÇ¨", traits: { T: 2 } },
                    { text: "Ïù¥Í≤å ÎÑàÎûë Î∂ÑÏúÑÍ∏∞Í∞Ä Ï†úÏùº Ïûò Ïñ¥Ïö∏Î†§! Îî± ÎÑ§ Í±∞Ïïº", traits: { F: 2 } },
                    { text: "ÌïúÍµ≠ Í∞ÄÏÑúÎèÑ Ïã§Ïö©Ï†ÅÏúºÎ°ú Ïì∏ Ïàò ÏûàÎäî Í±∏Î°ú ÏÇ¨ÏïºÏßÄ", traits: { T: 1, S: 1 } },
                    { text: "Ïù¥Í±∏ Î≥¥Î©¥ Ïö∞Î¶¨ Ïó¨ÌñâÌñàÎçò Ïù¥ ÏàúÍ∞ÑÏù¥ Í≥ÑÏÜç ÏÉùÍ∞ÅÎÇ† Í≤É Í∞ôÏïÑ", traits: { F: 1, N: 1 } }
                ]
            },
            {
                id: 14,
                question: "Ïó¨ÌñâÏßÄÏóêÏÑúÏùò ÎßàÏßÄÎßâ Î∞§, ÏïÑÏâ¨ÏõÄÏùÑ Îã¨ÎûòÎäî Î∞©Î≤ïÏùÄ?",
                options: [
                    { text: "Ïù¥ÎåÄÎ°ú Ïû†Îì§ Ïàú ÏóÜÏñ¥! ÌéçÏù¥ÎÇò ÎùºÏö¥ÏßÄ Í∞ÄÏÑú ÎÅùÍπåÏßÄ ÎÜÄÏûê!", traits: { E: 2 } },
                    { text: "ÏàôÏÜå ÌÖåÎùºÏä§ÏóêÏÑú ÏïºÍ≤ΩÏùÑ Î≥¥Î©∞ Ï°∞Ïö©Ìûà Îß•Ï£º Ìïú Ïûî", traits: { I: 2 } },
                    { text: "Ïò§Îäò ÎßåÎÇú ÏÇ¨ÎûåÎì§Í≥º Ïó∞ÎùΩÏ≤ò ÍµêÌôòÌïòÍ≥† Ïù∏Ïä§ÌÉÄ ÎßûÌåî!", traits: { E: 1, F: 1 } },
                    { text: "Ï∞çÏùÄ ÏÇ¨ÏßÑÎì§ÏùÑ Ï†ïÎ¶¨ÌïòÎ©∞ ÏùºÍ∏∞Ïû•Ïóê ÏÜåÍ∞êÏùÑ ÎÇ®Í∏¥Îã§", traits: { I: 1, J: 1 } }
                ]
            },
            {
                id: 15,
                question: "Ïó¨ÌñâÏù¥ ÎÅùÎÇòÍ≥†, ÎÇòÏóêÍ≤å Ïù¥ Ïó¨ÌñâÏùÄ Ïñ¥Îñ§ ÏùòÎØ∏ÏùºÍπå?",
                options: [
                    { text: "ÎÇ¥ ÏïàÏùò ÏÉàÎ°úÏö¥ Î™®ÏäµÏùÑ Î∞úÍ≤¨Ìïú ÏÑ±Ïû• ÎìúÎùºÎßà", traits: { N: 2 } },
                    { text: "Ï¢ãÏùÄ ÏÇ¨ÎûåÎì§Í≥º Ìï®Íªò ÎßåÎì† ÏûäÏßÄ Î™ªÌï† Ï∂îÏñµ", traits: { F: 2 } },
                    { text: "ÎßõÏûàÎäî Í±∞ Î®πÍ≥† Ìëπ Ïâ¨Îã§ Ïò® ÌûêÎßÅ Ìú¥Í∞Ä", traits: { S: 2 } },
                    { text: "ÎÇØÏÑ† Í≥≥ÏóêÏÑúÏùò ÏÉùÏ°¥Í∏∞Î•º Í∏∞Î°ùÌïú Îã§ÌÅêÎ©òÌÑ∞Î¶¨", traits: { T: 1 } }
                ]
            }
        ];

        const resultTypes = {
            'INFP': {
                name: "Ï†ïÏû¨ÌòÑ",
                title: "ÎπÑ ÎÇ¥Î¶¨Îäî Ï∞ΩÍ∞ÄÏùò ÎÇ≠Îßå Í≥†ÏñëÏù¥ üê±",
                tags: ["#ÏÑ¨ÏÑ∏Ìï®", "#Î∂ÑÏúÑÍ∏∞Ïû•Ïù∏", "#Î∞òÏ†ÑÎß§Î†•", "#ÏùåÏïÖÏ∂îÏ≤ú", "#ÏÇ¨ÏÉâÏ¶êÍπÄ", "#Í∞êÏÑ±Ï∂©Ï†Ñ", "#ÎäêÍ∏ãÌï®", "#Î∞∞Î†§Ïôï"],
                desc: "ÎãπÏã†ÏùÄ Í≤âÏúºÎ°úÎäî Ï∞®Î∂ÑÌïòÍ≥† Ï°∞Ïö©Ìï¥ Î≥¥Ïù¥ÏßÄÎßå, Í∑∏ ÎÇ¥Î©¥ÏóêÎäî ÎàÑÍµ¨Î≥¥Îã§ ÍπäÍ≥† Í±∞ÎåÄÌïú Ïö∞Ï£ºÎ•º ÌíàÍ≥† ÏûàÎäî ÏÇ¨ÎûåÏûÖÎãàÎã§. ÎÇØÏÑ† Ïó¨ÌñâÏßÄÏóêÏÑú ÎßàÏ£ºÌïòÎäî Ï∞∞ÎÇòÏùò Í∞êÏ†ïÍ≥º Î∂ÑÏúÑÍ∏∞Î•º ÏÜåÏ§ëÌûà Ïó¨Í∏∞Î©∞, Í∑∏Í≤ÉÏùÑ ÏûêÏã†ÎßåÏùò Î∞©ÏãùÏúºÎ°ú Ïò§Î°ØÏù¥ Ìù°ÏàòÌï©ÎãàÎã§. ÎßêÎ°ú Îã§ ÌëúÌòÑÌïòÏßÄ ÏïäÏïÑÎèÑ, ÌäπÏú†Ïùò Îã§Ï†ïÌïú ÎààÎπõÍ≥º ÏÑ∏Ïã¨Ìïú Î∞∞Î†§Î°ú Ï£ºÎ≥Ä ÏÇ¨ÎûåÎì§ÏùÑ Ìé∏ÏïàÌïòÍ≤å ÎßåÎìúÎäî Îä•Î†•Ïù¥ ÏûàÏäµÎãàÎã§.",
                detail: "ÎÇ®Îì§Ïù¥ Î¨¥Ïã¨ÏΩî ÏßÄÎÇòÏπòÎäî Í≥®Î™©Í∏∏Ïùò ÎÇ°ÏùÄ Í∞ÑÌåêÏù¥ÎÇò ÎπóÏÜåÎ¶¨ÏóêÏÑú ÏïÑÎ¶ÑÎã§ÏõÄÏùÑ Î∞úÍ≤¨ÌïòÎäî ÌÉÄÏûÖÏûÖÎãàÎã§. ÏãúÎÅÑÎü¨Ïö¥ ÌååÌã∞Î≥¥Îã§Îäî ÎßàÏùåÏù¥ ÎßûÎäî ÏÜåÏàòÏùò ÏÇ¨ÎûåÎì§Í≥º ÎÇòÎàÑÎäî ÍπäÏùÄ ÎåÄÌôîÎ•º ÏÑ†Ìò∏ÌïòÎ©∞, ÎïåÎ°úÎäî ÌòºÏûêÎßåÏùò ÏãúÍ∞ÑÏùÑ ÌÜµÌï¥ ÏóêÎÑàÏßÄÎ•º Ï∂©Ï†ÑÌïòÎäî Í≤ÉÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.",
                partner: "ÎßàÌÅ¨",
                color: "bg-sky-50 text-sky-900 border-sky-200",
                btnColor: "bg-sky-400 hover:bg-sky-500",
                pointColor: "text-sky-500",
                img: "üçë",
                bgImg: "https://file.notion.so/f/f/d7730641-4164-476a-8752-577644429a34/82904450-4655-4775-8629-23016825501c/8989dbd24565d7bcb7ca80786135e842.jpg?id=28077081-6715-4523-a05e-556768781014&table=block&spaceId=d7730641-4164-476a-8752-577644429a34&expirationTimestamp=1732471200000&signature=_76515107864407544615452001242504452501452314823522315247663146563004536131215516"
            },
            'ENFP': {
                name: "ÎßàÌÅ¨",
                title: "ÏÑ∏ÏÉÅ Î¨¥Ìï¥Ìïú Ïù∏Í∞Ñ ÎπÑÌÉÄÎØº üçã",
                tags: ["#Ìò∏Í∏∞Ïã¨Ï≤úÍµ≠", "#Î¶¨Ïï°ÏÖòÎ∂ÄÏûê", "#ÏÜîÏßÅÌï®", "#ÏÇ¨ÎûëÎë•Ïù¥", "#Í∏çÏ†ïÏóêÎÑàÏßÄ", "#Î¨¥Ìï¥Ìï®", "#ÏóâÎö±Ìï®", "#Î∂ÑÏúÑÍ∏∞Î©îÏù¥Ïª§"],
                desc: "Ï°¥Ïû¨ ÏûêÏ≤¥ÎßåÏúºÎ°úÎèÑ Ï£ºÎ≥ÄÏùÑ ÌôòÌïòÍ≤å Î∞ùÌûàÎäî ÌòïÍ¥ëÎì± Í∞ôÏùÄ ÏÇ¨Îûå! ÏÉàÎ°úÏö¥ ÏÑ∏ÏÉÅÏóê ÎåÄÌïú Ìò∏Í∏∞Ïã¨Ïù¥ Í∞ÄÎìùÌïòÍ≥†, Îß§ ÏàúÍ∞Ñ Í∞êÏ†ïÏùÑ Ïà®Í∏∞ÏßÄ Î™ªÌï¥ ÏñºÍµ¥Ïóê Í∑∏ÎåÄÎ°ú ÎìúÎü¨ÎÇòÎäî Ìà¨Î™ÖÌïòÍ≥† ÏàúÏàòÌïú ÏòÅÌòºÏùò ÏÜåÏú†ÏûêÏûÖÎãàÎã§. ÏÑúÌà¥Îü¨ÎèÑ Îß§ÏÇ¨Ïóê ÏßÑÏã¨Ïù∏ ÎãπÏã†Ïùò Î™®ÏäµÏùÄ ÏÇ¨ÎûåÎì§Ïùò ÎßàÏùåÏùÑ Î¨¥Ïû•Ìï¥Ï†ú ÏãúÌÇµÎãàÎã§.",
                detail: "Í∏∏ÏùÑ ÏûÉÍ±∞ÎÇò Ïã§ÏàòÎ•º Ìï¥ÎèÑ \"Ïù¥Í≤ÉÎèÑ Îã§ Ï∂îÏñµÏù¥ÏßÄ!\"ÎùºÎ©∞ Í∏çÏ†ïÏ†ÅÏúºÎ°ú ÏõÉÏñ¥ÎÑòÍ∏∞Îäî ÌöåÎ≥µÌÉÑÎ†•ÏÑ±ÏùÑ Í∞ÄÏ°åÏäµÎãàÎã§. Ìé∏Í≤¨ ÏóÜÏù¥ ÏÇ¨ÎûåÎì§ÏóêÍ≤å Îã§Í∞ÄÍ∞ÄÎäî ÎãπÏã†ÏùÄ Ïñ¥ÎîîÏÑúÎÇò ÌôòÏòÅÎ∞õÎäî ÏµúÍ≥†Ïùò Ïó¨Ìñâ Î©îÏù¥Ìä∏ÏûÖÎãàÎã§. Ï¶âÌù•Ï†ÅÏù∏ ÏÉÅÌô©ÏùÑ Ï¶êÍ∏∞Î©∞, Ïö∞Ïó∞Ìûà ÎßàÏ£ºÏπú Ïù∏Ïó∞ÏùÑ ÏÜåÏ§ëÌûà Ïó¨ÍπÅÎãàÎã§.",
                partner: "Ï†ïÏû¨ÌòÑ",
                color: "bg-green-50 text-green-900 border-green-200",
                btnColor: "bg-green-400 hover:bg-green-500",
                pointColor: "text-green-500",
                img: "üêØ"
            },
            'ISFJ': {
                name: "Ï±ÑÏßÄÏõê",
                title: "Ìè≠Ïã†Ìè≠Ïã† Îã§Ï†ïÌïú ÏïàÏãùÏ≤ò ‚òÅÔ∏è",
                tags: ["#Í≤ΩÏ≤≠Ïôï", "#ÎÇ¥Ïú†Ïô∏Í∞ï", "#Ï±ôÍπÄÎü¨", "#Îî∞ÎúªÌï®", "#ÏïàÏ†ïÍ∞ê", "#ÏÑ∏Ïã¨Ìï®", "#ÌèâÌôîÏ£ºÏùòÏûê", "#ÌóåÏã†"],
                desc: "Î∂ÄÎìúÎü¨Ïõå Î≥¥Ïù¥ÏßÄÎßå ÏÜçÏùÄ ÎàÑÍµ¨Î≥¥Îã§ Îã®Îã®Ìïú Ïô∏Ïú†ÎÇ¥Í∞ïÌòïÏûÖÎãàÎã§. ÏÜåÎûÄÏä§Îü¨Ïö¥ ÏÉÅÌô©ÏóêÏÑúÎèÑ Ï§ëÏã¨ÏùÑ ÏûÉÏßÄ ÏïäÍ≥† Ï∞®Î∂ÑÌï®ÏùÑ Ïú†ÏßÄÌïòÎ©∞, Îí§ÏóêÏÑú Î¨µÎ¨µÌûà ÎèôÎ£åÎì§ÏùÑ Ï±ôÍ≤®Ï£ºÎäî ÌåÄÏùò Ïà®ÏùÄ ÏàòÌò∏Ï≤úÏÇ¨ÏûÖÎãàÎã§. ÌÉÄÏù∏Ïùò Í∞êÏ†ïÏùÑ ÏòàÎØºÌïòÍ≤å Ï∫êÏπòÌïòÍ≥† Î∞∞Î†§ÌïòÎäî ÎãπÏã† ÎçïÎ∂ÑÏóê Ïó¨ÌñâÏùÄ Ïñ∏Ï†úÎÇò ÌèâÌôîÎ°≠ÏäµÎãàÎã§.",
                detail: "Ïò§ÎûòÎêú Î¨ºÍ±¥Ïù¥ÎÇò ÏùµÏàôÌïú Ïù∏Ïó∞ÏùÑ ÏÜåÏ§ëÌûà Ïó¨ÍπÅÎãàÎã§. ÎÇòÏÑúÏÑú Ï£ºÎèÑÌïòÍ∏∞Î≥¥Îã§Îäî Ìïú Î∞úÏûêÍµ≠ Îí§ÏóêÏÑú Îî∞ÎúªÌïú ÎØ∏ÏÜåÎ°ú Ïù¥ÏïºÍ∏∞Î•º Îì§Ïñ¥Ï£ºÎäî Ïó≠Ìï†ÏùÑ ÏûêÏ≤òÌï©ÎãàÎã§. ÍººÍººÌïòÍ≤å Ï£ºÎ≥ÄÏùÑ ÏÇ¥ÌîºÎ©∞ Î™®ÎëêÍ∞Ä Ìé∏ÏïàÌïúÏßÄ ÌôïÏù∏ÌïòÎäî ÏÑ∏Ïã¨Ìï®ÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§.",
                partner: "ÏµúÏû¨Í≤Ω",
                color: "bg-yellow-50 text-yellow-900 border-yellow-200",
                btnColor: "bg-yellow-400 hover:bg-yellow-500",
                pointColor: "text-yellow-500",
                img: "‚úíÔ∏è"
            },
            'ESTJ': {
                name: "ÏµúÏû¨Í≤Ω",
                title: "ÎØøÍ≥† Îî∞Î•¥Îäî Îì†Îì†Ìïú ÎåÄÏû•Îãò üõ°Ô∏è",
                tags: ["#Ï±ÖÏûÑÍ∞ê", "#ÌòÑÏã§Ï†Å", "#Ìï¥Í≤∞ÏÇ¨", "#Ïñ¥Î•∏ÎØ∏", "#Î¶¨ÎçîÏã≠", "#Í≥ÑÌöçÏ†Å", "#ÏÜîÏÑ†ÏàòÎ≤î", "#Ï∏§Îç∞Î†à"],
                desc: "Ïñ¥Îñ§ ÎèåÎ∞ú ÏÉÅÌô©Ïù¥ ÏôÄÎèÑ ÎãπÌô©ÌïòÏßÄ ÏïäÍ≥† Ïπ®Ï∞©ÌïòÍ≤å Î¨∏Ï†úÎ•º Ìï¥Í≤∞ÌïòÎäî Î¶¨Îçî Ïä§ÌÉÄÏùºÏûÖÎãàÎã§. Ìö®Ïú®Ï†ÅÏù∏ ÎèôÏÑ†Í≥º Ï≤†Ï†ÄÌïú Í≥ÑÌöçÏúºÎ°ú ÌåÄÏùÑ Ïù¥ÎÅÑÎäî Îì†Îì†Ìïú Î≤ÑÌåÄÎ™©Ïù¥Ï£†. Í≤âÏúºÎ°úÎäî Î¨¥ÎöùÎöùÌï¥ Î≥¥Ïùº Ïàò ÏûàÏßÄÎßå, ÏÇ¨Ïã§ÏùÄ Í∑∏ ÎàÑÍµ¨Î≥¥Îã§ ÌåÄÏõêÎì§Ïóê ÎåÄÌïú ÍπäÏùÄ Ï±ÖÏûÑÍ∞êÍ≥º Ïï†Ï†ïÏùÑ Í∞ÄÏßÄÍ≥† ÏûàÏäµÎãàÎã§.",
                detail: "ÌûòÎì† ÏùºÏùÄ ÎÇ®ÏóêÍ≤å ÎØ∏Î£®ÏßÄ ÏïäÍ≥† Í∞ÄÏû• Î®ºÏ†Ä ÎÇòÏÑúÏÑú Ï≤òÎ¶¨ÌïòÎäî ÏÜîÏÑ†ÏàòÎ≤îÌòïÏûÖÎãàÎã§. Í∞êÏ†ïÏ†ÅÏù∏ ÏúÑÎ°úÎ≥¥Îã§Îäî Ïã§ÏßàÏ†ÅÏù∏ Ìï¥Í≤∞Ï±ÖÏùÑ Ï†úÏãúÌïòÎäî Ìé∏Ïù¥ÏßÄÎßå, ÌñâÎèô ÌïòÎÇòÌïòÎÇòÏóê Î¨ªÏñ¥ÎÇòÎäî Î¨µÏßÅÌïú Î∞∞Î†§Í∞Ä Îß§Î†• Ìè¨Ïù∏Ìä∏ÏûÖÎãàÎã§. ÎØøÍ≥† ÏùòÏßÄÌï† Ïàò ÏûàÎäî Ïñ¥Î•∏Ïä§Îü¨Ïö¥ Ïó¨ÌñâÏûêÏûÖÎãàÎã§.",
                partner: "Ï±ÑÏßÄÏõê",
                color: "bg-blue-50 text-blue-900 border-blue-200",
                btnColor: "bg-blue-400 hover:bg-blue-500",
                pointColor: "text-blue-500",
                img: "üíº"
            },
            'ESFJ': {
                name: "ÎãàÏΩî",
                title: "Ï§ÄÎπÑÏÑ± Ï≤†Ï†ÄÌïú Í∑ÄÏóºÎë•Ïù¥ üê•",
                tags: ["#ÏπúÌôîÎ†•Í∞ë", "#Î≥¥Î∂ÄÏÉÅ", "#Î©îÎ™®Í¥ë", "#Ìï¥ÌîºÎ∞îÏù¥Îü¨Ïä§", "#Ïù∏Í∏∞ÏüÅÏù¥", "#Í≥µÍ∞êÏôï", "#Ïó¥Ï†ïÎßåÏàòÎ•¥", "#ÏÇ¨ÎûëÎë•Ïù¥"],
                desc: "Ïó¨ÌñâÏùÑ ÏúÑÌï¥ Ï≤†Ï†ÄÌïòÍ≤å Í≥µÎ∂ÄÌïòÍ≥† Ï§ÄÎπÑÌï¥Ïò§Îäî Ïó¥Ï†ïÌååÏûÖÎãàÎã§. ÌïòÏßÄÎßå Í≥ÑÌöçÎåÄÎ°ú ÎêòÏßÄ ÏïäÏïÑÎèÑ ÏÇ¨ÎûåÎì§Í≥º Ïñ¥Ïö∏Î¶¨Îäî Í≤É ÏûêÏ≤¥Î•º Ï¶êÍ∏∞Îäî Ïú†Ïó∞Ìï®Í≥º Î∞ùÏùÄ ÏóêÎÑàÏßÄÎ•º Í∞ÄÏ°åÏäµÎãàÎã§. Ï≤òÏùå Î≥¥Îäî ÏÇ¨ÎûåÍ≥ºÎèÑ Í∏àÎ∞© Ïñ∏Îãà ÎèôÏÉù ÌïòÎ©∞ ÏπúÌï¥ÏßÄÎäî ÎØ∏Ïπú ÏπúÌôîÎ†•Ïùò ÏÜåÏú†ÏûêÎ°ú, Ïñ¥ÎîîÏÑúÎÇò ÏÇ¨ÎûëÎ∞õÎäî ÎßâÎÇ¥ Ïó≠Ìï†ÏùÑ ÌÜ°ÌÜ°Ìûà Ìï©ÎãàÎã§.",
                detail: "ÏÇ¨ÏÜåÌïú Í∞êÏ†ïÍ≥º ÌíçÍ≤Ω ÌïòÎÇòÌïòÎÇòÎ•º ÎÜìÏπòÏßÄ ÏïäÍ≥† Í∏∞Î°ùÌïòÎ©∞ Í∞êÌÉÑÌï©ÎãàÎã§. ÎãπÏã†Ïùò Ìï¥ÎßëÏùÄ ÏõÉÏùåÍ≥º Î¶¨Ïï°ÏÖòÏùÄ ÏßÄÏπú Ïó¨ÌñâÍ∏∏Ïóê ÎπÑÌÉÄÎØº Í∞ôÏùÄ ÌôúÎ†•ÏùÑ Î∂àÏñ¥ÎÑ£ÏäµÎãàÎã§. Ï£ºÎ≥Ä ÏÇ¨ÎûåÎì§ÏùÑ ÏÇ¥Îú∞Ìûà Ï±ôÍ∏∞Î©∞ Ï°∞ÌôîÎ°úÏö¥ Î∂ÑÏúÑÍ∏∞Î•º ÎßåÎìúÎäî Îç∞ ÏùºÎì±Í≥µÏã†ÏûÖÎãàÎã§.",
                partner: "Ïã¨ÏùÄÏû¨",
                color: "bg-pink-50 text-pink-900 border-pink-200",
                btnColor: "bg-pink-400 hover:bg-pink-500",
                pointColor: "text-pink-500",
                img: "üç≠"
            },
            'ESTP': {
                name: "Ïã¨ÏùÄÏû¨",
                title: "Ïñ¥ÎîîÎ°ú ÌäàÏßÄ Î™®Î•¥Îäî Î∂ÑÏúÑÍ∏∞ Î©îÏù¥Ïª§ üî•",
                tags: ["#ÏûÖÎã¥Íæº", "#ÏàúÎ∞úÎ†•", "#ÏûêÏú†ÏòÅÌòº", "#Ìå©Ìè≠Îü¨", "#Ïù∏Ïã∏", "#Î™®ÌóòÍ∞Ä", "#Ïú†ÏæåÌï®", "#Ìï¥Í≤∞ÏÇ¨"],
                desc: "Ïñ¥ÏÉâÌïú Ïπ®Î¨µÏùÄ Ï†àÎåÄ Î™ª Ï∞∏Îäî Ïú†ÏæåÌïú Î∂ÑÏúÑÍ∏∞ Î©îÏù¥Ïª§! ÌäπÏú†Ïùò Ïû¨Ïπò ÏûàÎäî ÏûÖÎã¥Í≥º ÏàúÎ∞úÎ†•ÏúºÎ°ú Ïñ¥Îñ§ ÏÉÅÌô©ÏóêÏÑúÎèÑ ÏõÉÏùåÏùÑ ÎßåÎì§Ïñ¥ÎÇ¥Îäî Ïù∏Ïã∏ Ï§ëÏùò Ïù∏Ïã∏ÏûÖÎãàÎã§. Î≥µÏû°ÌïòÍ≥† Í≥®Ïπò ÏïÑÌîà Í±¥ Îî± ÏßàÏÉâ, ÏßÄÍ∏à Ïù¥ ÏàúÍ∞ÑÏùÑ Í∞ÄÏû• Ï¶êÍ≤ÅÍ≥† ÏßúÎ¶øÌïòÍ≤å Î≥¥ÎÇ¥Îäî Í≤ÉÏùÑ Ï∂îÍµ¨ÌïòÎäî Ïø®Ìïú Ïó¨ÌñâÏûêÏûÖÎãàÎã§.",
                detail: "ÎààÏπòÍ∞Ä Îπ®ÎùºÏÑú ÏÉÅÌô© ÌååÏïÖÏù¥ ÎàÑÍµ¨Î≥¥Îã§ Îπ†Î¶ÖÎãàÎã§. Ïû•ÎÇúÍ∏∞ ÎÑòÏ≥ê Î≥¥Ïù¥ÏßÄÎßå Í≤∞Ï†ïÏ†ÅÏù∏ ÏúÑÍ∏∞ ÏÉÅÌô©ÏóêÏÑúÎäî ÏãúÏõêÏãúÏõêÌïòÍ≤å Ìï¥Í≤∞Ï±ÖÏùÑ ÎÇ¥ÎÜìÎäî ÎåÄÎã¥Ìï®ÎèÑ Í∞ñÏ∑ÑÏäµÎãàÎã§. ÌòïÏãùÏóê ÏñΩÎß§Ïù¥ÏßÄ ÏïäÎäî ÏûêÏú†Î°úÏö¥ Ïó¨Ìñâ Ïä§ÌÉÄÏùºÎ°ú, ÎãπÏã†Í≥º Ìï®ÍªòÎùºÎ©¥ ÏßÄÎ£®Ìï† ÌãàÏù¥ ÏóÜÏäµÎãàÎã§.",
                partner: "ÌïúÏó∞Îçï",
                color: "bg-orange-50 text-orange-900 border-orange-200",
                btnColor: "bg-orange-400 hover:bg-orange-500",
                pointColor: "text-orange-500",
                img: "üï∂Ô∏è"
            },
            'INTP': {
                name: "ÌïúÏó∞Îçï",
                title: "Î¨¥Ïã¨Ìïú Ï≤ô Îã§ Ï±ôÍ∏∞Îäî Ï∏§Îç∞Î†à üòé",
                tags: ["#ÎßàÏù¥Ïõ®Ïù¥", "#Ï∑®Ìñ•ÌôïÏã§", "#ÏãúÎãàÏª¨", "#Î∞òÏ†ÑÎß§Î†•", "#ÌÜµÏ∞∞Î†•", "#Ìö®Ïú®Ï£ºÏùò", "#ÏÜîÏßÅÌï®", "#Í¥ÄÏ∞∞Ïûê"],
                desc: "Îß§ÏÇ¨Ïóê Ìà¨ÎçúÎåÄÎäî ÎìØ Î≥¥Ïù¥ÏßÄÎßå, ÏùÄÍ∑ºÌûà Ï±ôÍ∏∏ Í±¥ Îã§ Ï±ôÍ∏∞Îäî Ï∏§Îç∞Î†à Ïä§ÌÉÄÏùºÏûÖÎãàÎã§. ÎÇ®Îì§Ïùò ÏãúÏÑ†Ïù¥ÎÇò Ïú†ÌñâÎ≥¥Îã§Îäî ÏûêÏã†Ïùò ÌôïÍ≥†Ìïú Ï∑®Ìñ•Í≥º Ìö®Ïú®ÏÑ±ÏùÑ 1ÏàúÏúÑÎ°ú Îë°ÎãàÎã§. ÎÇ®Îì§Ïù¥ Î≥¥ÏßÄ Î™ªÌïòÎäî ÎèÖÌäπÌïú ÏãúÍ∞ÅÏúºÎ°ú ÏÑ∏ÏÉÅÏùÑ Î∞îÎùºÎ≥¥Î©∞, Î¨¥Ïã¨ÏΩî ÎçòÏßÄÎäî ÌïúÎßàÎîîÍ∞Ä ÌïµÏã¨ÏùÑ Ï∞åÎ•¥Îäî ÌÜµÏ∞∞Î†•ÏùÑ Í∞ÄÏ°åÏäµÎãàÎã§.",
                detail: "Î≤àÍ±∞Î°≠Í≥† Í∑ÄÏ∞ÆÏùÄ Í±¥ Îî± ÏßàÏÉâÏù¥ÏßÄÎßå, ÏûêÏã†Ïù¥ Í¥ÄÏã¨ ÏûàÎäî Î∂ÑÏïºÏóêÎäî ÎÜÄÎùºÏö¥ ÏßëÏ§ëÎ†•Í≥º Ïó¥Ï†ïÏùÑ Î≥¥Ïó¨Ï§çÎãàÎã§. Í∞êÏ†ïÏ†ÅÏù∏ ÍµêÎ•òÎ≥¥Îã§Îäî ÏßÄÏ†ÅÏù∏ ÎåÄÌôîÎÇò ÎèÖÌäπÌïú Í≤ΩÌóòÏùÑ ÏÑ†Ìò∏Ìï©ÎãàÎã§. Í≤âÎ∞îÏÜçÏ¥â Í∞ôÏùÄ Îß§Î†•ÏúºÎ°ú ÏïåÎ©¥ ÏïåÏàòÎ°ù ÏßÑÍµ≠Ïù∏ ÏÇ¨ÎûåÏûÖÎãàÎã§.",
                partner: "Î•òÏÑ†Ïö∞",
                color: "bg-stone-50 text-stone-900 border-stone-200",
                btnColor: "bg-stone-500 hover:bg-stone-600",
                pointColor: "text-stone-600",
                img: "üé¨"
            },
            'INTJ': {
                name: "Î•òÏÑ†Ïö∞",
                title: "Î≥∏ÏßàÏùÑ Íø∞Îö´Îäî ÏÇ¨ÏÉâÍ∞Ä üëì",
                tags: ["#ÏßÄÏ†ÅÌò∏Í∏∞Ïã¨", "#Í¥ÄÏ∞∞Ïûê", "#Ï≤†ÌïôÏ†Å", "#ÍπäÏùÄÎÇ¥Î©¥", "#Ï†ÑÎûµÍ∞Ä", "#ÏôÑÎ≤ΩÏ£ºÏùò", "#ÏßÑÏßÄÌï®", "#ÌÉêÍµ¨Ïûê"],
                desc: "Ïó¨ÌñâÏßÄÏùò ÌôîÎ†§Ìïú ÌíçÍ≤Ω Ïù¥Î©¥Ïóê Ïà®Í≤®ÏßÑ Ïó≠ÏÇ¨ÏôÄ ÏùòÎØ∏Î•º ÌÉêÍµ¨ÌïòÎäî ÏßÄÏ†ÅÏù∏ Ïó¨ÌñâÏûêÏûÖÎãàÎã§. ÏôÅÏûêÏßÄÍªÑÌïú Í¥ÄÍ¥ëÏßÄÎ≥¥Îã§Îäî ÍπäÏù¥ ÏûàÎäî ÎåÄÌôîÎ•º ÎÇòÎàÑÍ±∞ÎÇò ÌòºÏûê ÏÇ¨ÏÉâÌï† Ïàò ÏûàÎäî Í≥†Ï¶àÎÑâÌïú Ïû•ÏÜåÎ•º ÏÑ†Ìò∏Ìï©ÎãàÎã§. Í∞êÏ†ïÏóê ÏâΩÍ≤å Ìú©Ïì∏Î¶¨Í∏∞Î≥¥Îã§Îäî Ïù¥ÏÑ±Ï†ÅÏúºÎ°ú ÏÉÅÌô©ÏùÑ Î∂ÑÏÑùÌïòÍ≥† ÌåêÎã®ÌïòÎäî ÎÉâÏ≤†Ìï®ÏùÑ ÏßÄÎÖîÏäµÎãàÎã§.",
                detail: "Î™®Îì† Í≤ΩÌóòÏóêÏÑú Î∞∞ÏõÄÏùÑ Ï∞æÏúºÎ†§ ÌïòÎ©∞, ÎÅäÏûÑÏóÜÏù¥ ÏßàÎ¨∏ÏùÑ ÎçòÏßëÎãàÎã§. Ï∞®Í∞ÄÏõå Î≥¥Ïùº Ïàò ÏûàÏßÄÎßå, ÌïúÎ≤à ÎßàÏùåÏùÑ Ïó∞ ÏÉÅÎåÄÏóêÍ≤åÎäî ÎàÑÍµ¨Î≥¥Îã§ ÍπäÍ≥† ÏßÑÏÜîÌïú Í¥ÄÍ≥ÑÎ•º Îß∫ÏäµÎãàÎã§. Ïó¨ÌñâÏùÑ ÌÜµÌï¥ Îã®ÏàúÌïú Ï¶êÍ±∞ÏõÄÎ≥¥Îã§Îäî ÎÇ¥Î©¥Ïùò ÏÑ±Ïû•ÏùÑ Ï∂îÍµ¨ÌïòÎäî ÌÉÄÏûÖÏûÖÎãàÎã§.",
                partner: "Ïã¨ÏùÄÏû¨",
                color: "bg-violet-50 text-violet-900 border-violet-200",
                btnColor: "bg-violet-400 hover:bg-violet-500",
                pointColor: "text-violet-500",
                img: "üìì"
            }
        };

        function getResultType(scores) {
            const I_E = scores.E > scores.I ? 'E' : 'I';
            const N_S = scores.N > scores.S ? 'N' : 'S';
            const T_F = scores.F > scores.T ? 'F' : 'T';
            const J_P = scores.P > scores.J ? 'P' : 'J';
            
            let type = I_E + N_S + T_F + J_P;
            
            const mapping = {
                'INFP': 'INFP', 'ISFP': 'INFP',
                'ENFP': 'ENFP', 'ESFP': 'ENFP',
                'INFJ': 'ISFJ', 'ISFJ': 'ISFJ',
                'ESTJ': 'ESTJ', 'ENTJ': 'ESTJ',
                'ESFJ': 'ESFJ', 'ENFJ': 'ESFJ',
                'ESTP': 'ESTP', 'ENTP': 'ESTP',
                'ISTP': 'INTP', 'INTP': 'INTP',
                'INTJ': 'INTJ', 'ISTJ': 'INTJ'
            };
            
            return mapping[type] || 'INFP';
        }

        // --- Components ---

        function Intro({ onStart }) {
            return (
                <div className="w-full h-full flex flex-col relative overflow-hidden">
                    {/* Modified to allow scrolling on Intro page for natural feel */}
                    <div className="flex-1 flex flex-col items-center overflow-y-auto no-scrollbar px-6 pt-10 pb-10">
                        {/* Ticket Container - Taller */}
                        <div className="w-full max-w-[340px] min-h-[520px] bg-white rounded-3xl shadow-[0_20px_50px_rgba(0,0,0,0.15)] overflow-hidden transform transition-all hover:scale-[1.01] duration-300 animate-slide-up border border-white/60 flex flex-col shrink-0">
                            
                            {/* Ticket Header - Light Sky Blue Pastel */}
                            <div className="bg-sky-200 p-5 flex justify-between items-center text-sky-800">
                                <span className="font-bold tracking-widest text-xs flex items-center gap-2">
                                    <span className="w-2 h-2 rounded-full bg-teal-300 animate-pulse"></span>
                                    BOARDING PASS
                                </span>
                                {/* Replaced Text Emoji with SVG for consistent orientation (Up) */}
                                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" className="w-5 h-5 -rotate-90">
                                    <path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z" />
                                </svg>
                            </div>
                            
                            {/* Ticket Body - Centered & Spacious */}
                            <div className="flex-1 p-8 flex flex-col items-center text-center relative">
                                {/* Left Cutout */}
                                <div className="absolute top-0 left-0 -translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-slate-50/50 rounded-full shadow-inner"></div>
                                {/* Right Cutout */}
                                <div className="absolute top-0 right-0 translate-x-1/2 -translate-y-1/2 w-6 h-6 bg-slate-50/50 rounded-full shadow-inner"></div>

                                <div className="mb-4">
                                    <span className="inline-block px-3 py-1 bg-sky-50 text-sky-600 rounded-full text-[10px] font-bold tracking-wider mb-2 border border-sky-100">
                                        tvM NEW REALITY
                                    </span>
                                </div>
                                <h1 className="text-3xl font-black text-slate-800 mb-1 leading-tight">
                                    ÎãπÏã† ÏßëÏóêÏÑú<br/><span className="text-transparent bg-clip-text bg-gradient-to-r from-sky-300 to-pink-300">Ïûò Ïàò ÏûàÎÇòÏöî?</span>
                                </h1>
                                
                                {/* Dashed Line */}
                                <div className="w-full border-b-2 border-dashed border-sky-100 my-8 relative"></div>
                                
                                <div className="flex justify-between w-full text-left mb-10 px-1">
                                    <div>
                                        <p className="text-[10px] text-gray-400 font-bold tracking-wider mb-1">FROM</p>
                                        <p className="text-2xl font-black text-slate-700">HOME</p>
                                    </div>
                                    <div className="flex flex-col items-center justify-center px-2">
                                        {/* Replaced Text Emoji with SVG for consistent orientation (Right) */}
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" className="w-6 h-6 text-gray-300">
                                            <path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z" />
                                        </svg>
                                    </div>
                                    <div className="text-right">
                                        <p className="text-[10px] text-gray-400 font-bold tracking-wider mb-1">TO</p>
                                        <p className="text-2xl font-black text-sky-500">YOU</p>
                                    </div>
                                </div>

                                <p className="text-gray-500 text-sm font-medium mb-8 break-keep leading-relaxed mt-auto">
                                    ÎÇØÏÑ† ÎèÑÏãú, ÎÅäÏñ¥ÏßÑ Ïó∞ÎùΩ...<br/>
                                    8Î™ÖÏùò Ïó¨ÌñâÏûê Ï§ë<br/>
                                    <b>ÎÇòÏôÄ Ï∞∞Îñ°Ïù∏ Ï∫êÎ¶≠ÌÑ∞</b>Îäî ÎàÑÍµ¨?
                                </p>

                                <button 
                                    onClick={onStart}
                                    className="w-full py-4 bg-sky-200 text-sky-800 rounded-2xl text-base font-bold hover:bg-sky-300 transition-all shadow-lg hover:shadow-sky-100 flex items-center justify-center gap-2 group"
                                >
                                    ÌÉëÏäπÌïòÍ∏∞
                                </button>
                            </div>
                        </div>
                        
                        {/* Footer - No Emoji */}
                        <p className="text-xs text-slate-500 mt-6 font-medium bg-white/40 px-4 py-1.5 rounded-full backdrop-blur-sm border border-white/30 animate-slide-up shrink-0" style={{animationDelay: '0.1s'}}>
                            8Î™ÖÏùò Ïó¨ÌñâÏûêÍ∞Ä Í∏∞Îã§Î¶¨Í≥† ÏûàÏñ¥Ïöî!
                        </p>

                        {/* New Episode Link */}
                        <a
                            href="https://posty.pe/h8qb64"
                            target="_blank"
                            rel="noopener noreferrer"
                            className="text-xs text-slate-400 mt-3 hover:text-sky-500 transition-colors underline decoration-slate-300 hover:decoration-sky-300 underline-offset-2 animate-slide-up shrink-0 mb-4"
                            style={{animationDelay: '0.2s'}}
                        >
                            ÏµúÏã† ÏóêÌîºÏÜåÎìú ÌôïÏù∏ÌïòÍ∏∞ ‚Üó
                        </a>
                    </div>
                </div>
            );
        }

        function Question({ data, current, total, onAnswer, onBack }) {
            const [selected, setSelected] = useState(null);
            const scrollRef = useRef(null);

            // Scroll to top whenever the question (current index) changes
            useEffect(() => {
                if (scrollRef.current) {
                    scrollRef.current.scrollTo({ top: 0, behavior: 'smooth' });
                }
            }, [current]);

            const handleClick = (idx, traits) => {
                setSelected(idx);
                setTimeout(() => {
                    onAnswer(traits);
                    setSelected(null);
                }, 250);
            };

            return (
                <div className="w-full h-full flex flex-col bg-white/60 relative">
                    {/* Header */}
                    <div className="px-8 pt-10 pb-6 relative shrink-0">
                        <div className="flex justify-between items-center mb-3">
                            {/* Back Button */}
                            <button 
                                onClick={onBack}
                                className="p-2 -ml-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 rounded-full transition-colors"
                                aria-label="Go back"
                            >
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2.5" strokeLinecap="round" strokeLinejoin="round"><path d="M15 18l-6-6 6-6"/></svg>
                            </button>

                            <div className="text-slate-400 font-bold text-xs bg-white px-2.5 py-1 rounded-lg border border-slate-100 shadow-sm">
                                {current} / {total}
                            </div>
                        </div>
                        
                        {/* Simple Progress Bar */}
                        <div className="w-full bg-slate-100 h-1.5 rounded-full overflow-hidden">
                            <div 
                                className="bg-sky-300 h-full rounded-full transition-all duration-500 ease-out" 
                                style={{ width: `${(current / total) * 100}%` }}
                            ></div>
                        </div>
                    </div>

                    {/* Question Content - Added ref for scroll reset */}
                    <div ref={scrollRef} className="flex-1 px-8 flex flex-col pb-16 overflow-y-auto no-scrollbar">
                        
                        {/* Question Title Area */}
                        <div className="flex flex-col mb-8 animate-slide-up opacity-0 mt-4" style={{animationDelay: '0.1s'}}>
                            <div className="flex items-baseline gap-5 mb-6">
                                <span className="text-sky-400 font-extrabold text-3xl italic tracking-tight whitespace-nowrap">Q{data.id}.</span>
                                <h2 className="text-[22px] font-bold text-slate-800 leading-snug break-keep">
                                    {data.question}
                                </h2>
                            </div>
                            
                            {/* Divider */}
                            <div className="w-full border-b-2 border-dashed border-slate-200"></div>
                        </div>

                        <div className="space-y-3.5 pb-10">
                            {data.options.map((opt, idx) => (
                                <button
                                    key={`${data.id}-${idx}`}
                                    onClick={() => handleClick(idx, opt.traits)}
                                    className={`w-full text-left p-5 rounded-[20px] border transition-all duration-200 text-[15px] font-medium leading-relaxed animate-slide-up opacity-0 shadow-sm group hover-action
                                    ${selected === idx 
                                        ? 'bg-gradient-to-r from-sky-50 to-pink-50 border-sky-300 text-slate-700 ring-1 ring-sky-300 scale-[0.99]' 
                                        : 'bg-white border-slate-100 text-slate-600'}
                                    `}
                                    style={{ animationDelay: `${0.2 + (idx * 0.1)}s` }}
                                >
                                    {opt.text}
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );
        }

        function Loading() {
            return (
                <div className="w-full h-full flex flex-col justify-center items-center relative overflow-hidden bg-white/80">
                    <div className="mb-8 relative">
                        <div className="w-24 h-24 bg-white rounded-full flex items-center justify-center animate-bounce border border-sky-200 shadow-lg">
                            <span className="text-5xl">ü•®</span>
                        </div>
                    </div>
                    <h2 className="text-xl font-bold text-slate-800 mb-2">Ïó¨Ìñâ ÏÑ±Ìñ• Î∂ÑÏÑù Ï§ë...</h2>
                    <p className="text-slate-500 text-sm font-medium">ÎãπÏã†Ïùò Ïó¨Ìñâ Ïä§ÌÉÄÏùºÏùÑ Ï∞æÍ≥† ÏûàÏñ¥Ïöî!</p>
                </div>
            );
        }

        function Result({ scores, onRetry }) {
            const resultKey = getResultType(scores);
            const data = resultTypes[resultKey];

            // Add background image style if it exists
            const bgStyle = data.bgImg ? {
                backgroundImage: `url(${data.bgImg})`,
                backgroundSize: 'cover',
                backgroundPosition: 'center',
            } : {};

            // ÎßÅÌÅ¨ Î≥µÏÇ¨ Í∏∞Îä•
            const handleShare = () => {
                const dummy = document.createElement("input");
                document.body.appendChild(dummy);
                dummy.value = window.location.href;
                dummy.select();
                document.execCommand("copy");
                document.body.removeChild(dummy);
                alert("ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§! üçÄ\nÏû¨Îß†Îü¨ÏóêÍ≤å Í≥µÏú†Ìï¥ÏÑú ÌôòÏÉÅÏùò ÏßùÍøçÏùÑ Ï∞æÏïÑ Î≥¥ÏÑ∏Ïöî!");
            };

            return (
                <div className={`w-full h-full flex flex-col relative overflow-hidden`}>
                    {/* Background Image Layer (for opacity) */}
                    {data.bgImg && (
                        <div 
                            className="absolute inset-0 z-0 opacity-30" 
                            style={bgStyle}
                        ></div>
                    )}
                    
                    {/* Content Layer */}
                    <div className={`relative z-10 w-full h-full flex flex-col ${data.color} bg-opacity-50`}>
                        <div className="flex-1 overflow-y-auto no-scrollbar p-6 pb-28">
                            {/* Polaroid Card Style - Added backdrop-blur for better readability over image */}
                            <div className="bg-white/80 backdrop-blur-md rounded-[24px] p-6 shadow-sm border border-white/60 animate-slide-up opacity-0 mt-4" style={{animationDelay: '0.1s'}}>
                                
                                {/* Character Title */}
                                <div className="text-center mb-8 pt-2">
                                    <div className="inline-block relative">
                                        <div className="text-7xl mb-4">{data.img}</div>
                                        {/* Tape decoration */}
                                        <div className="absolute -top-6 left-1/2 transform -translate-x-1/2 w-16 h-6 bg-white/40 rotate-[-2deg] border border-white/20 shadow-sm"></div>
                                    </div>
                                    
                                    <div className={`font-bold ${data.pointColor} mb-2 text-xs tracking-widest uppercase`}>My Travel Persona</div>
                                    <h1 className="text-2xl font-extrabold text-slate-800 mb-3 break-keep leading-tight">
                                        {data.name}
                                    </h1>
                                    <p className="text-slate-500 text-sm font-medium">{data.title}</p>
                                </div>

                                {/* Tags */}
                                <div className="flex flex-wrap justify-center gap-2 mb-8">
                                    {data.tags.map((tag, i) => (
                                        <span key={i} className="px-3 py-1.5 bg-slate-50 border border-slate-100 rounded-lg text-xs font-bold text-slate-500">
                                            {tag}
                                        </span>
                                    ))}
                                </div>

                                {/* Description */}
                                <div className="space-y-6 mb-2">
                                    <div>
                                        <h3 className="font-bold text-slate-800 mb-2 text-sm flex items-center gap-2">
                                            <span className="text-base">üëÄ</span> ÏÑ±Í≤© Î∂ÑÏÑù
                                        </h3>
                                        <p className="text-slate-600 text-sm leading-relaxed text-left break-keep font-normal border-l-2 border-slate-200 pl-3">
                                            {data.desc}
                                        </p>
                                    </div>
                                    
                                    <div>
                                        <h3 className="font-bold text-slate-800 mb-2 text-sm flex items-center gap-2">
                                            <span className="text-base">üéí</span> Ïó¨Ìñâ Ïä§ÌÉÄÏùº
                                        </h3>
                                        <p className="text-slate-600 text-sm leading-relaxed text-left break-keep font-normal border-l-2 border-slate-200 pl-3">
                                            {data.detail}
                                        </p>
                                    </div>
                                </div>
                            </div>

                            {/* Partner Card - Added backdrop-blur */}
                            <div className="mt-4 bg-white/60 backdrop-blur-sm rounded-[20px] p-5 flex items-center justify-between border border-white/40 shadow-sm animate-slide-up opacity-0" style={{animationDelay: '0.3s'}}>
                                <span className="text-xs font-bold text-slate-400 uppercase tracking-wider">Best Partner</span>
                                <span className="text-sm font-extrabold text-slate-800 flex items-center gap-1.5">
                                    {data.partner} <span className="text-red-400 text-xs">‚ô•</span>
                                </span>
                            </div>
                        </div>

                        {/* Fixed Buttons Area */}
                        <div className="absolute bottom-0 left-0 w-full p-6 bg-gradient-to-t from-white via-white/90 to-transparent pt-12 flex gap-3">
                            <button 
                                onClick={onRetry}
                                className="flex-1 py-4 bg-white border border-slate-200 text-slate-600 rounded-2xl text-sm font-bold hover:bg-slate-50 transition-colors shadow-sm"
                            >
                                Îã§Ïãú ÌïòÍ∏∞
                            </button>
                            <button 
                                className={`flex-1 py-4 text-white rounded-2xl text-sm font-bold hover:opacity-90 transition-all shadow-md flex justify-center items-center gap-2 ${data.btnColor}`}
                                onClick={handleShare}
                            >
                                Í≥µÏú†ÌïòÍ∏∞
                            </button>
                        </div>
                    </div>
                </div>
            );
        }

        // --- Main App ---

        function App() {
            const [step, setStep] = useState('intro');
            const [currentQIndex, setCurrentQIndex] = useState(0);
            const [scores, setScores] = useState({ E:0, I:0, N:0, S:0, T:0, F:0, P:0, J:0 });
            const [history, setHistory] = useState([]);

            const startTest = () => {
                setStep('test');
                setCurrentQIndex(0);
                setScores({ E:0, I:0, N:0, S:0, T:0, F:0, P:0, J:0 });
                setHistory([]);
            };

            const handleAnswer = (traits) => {
                const newScores = { ...scores };
                for (const [key, val] of Object.entries(traits)) {
                    newScores[key] += val;
                }
                setScores(newScores);
                setHistory([...history, traits]);

                if (currentQIndex < questions.length - 1) {
                    setCurrentQIndex(prev => prev + 1);
                } else {
                    setStep('loading');
                    setTimeout(() => setStep('result'), 2000);
                }
            };

            const handleBack = () => {
                if (currentQIndex === 0) {
                    setStep('intro');
                    setScores({ E:0, I:0, N:0, S:0, T:0, F:0, P:0, J:0 });
                    setHistory([]);
                    return;
                }

                const lastTraits = history[history.length - 1];
                const newScores = { ...scores };
                for (const [key, val] of Object.entries(lastTraits)) {
                    newScores[key] -= val;
                }
                setScores(newScores);
                setHistory(prev => prev.slice(0, -1));
                setCurrentQIndex(prev => prev - 1);
            };

            // New function to go back to Intro (Home)
            const goHome = () => {
                setStep('intro');
                setCurrentQIndex(0);
                setScores({ E:0, I:0, N:0, S:0, T:0, F:0, P:0, J:0 });
                setHistory([]);
            };

            return (
                <>
                    {step === 'intro' && <Intro onStart={startTest} />}
                    {step === 'test' && (
                        <Question 
                            data={questions[currentQIndex]} 
                            current={currentQIndex + 1} 
                            total={questions.length}
                            onAnswer={handleAnswer}
                            onBack={handleBack}
                        />
                    )}
                    {step === 'loading' && <Loading />}
                    {/* Pass goHome instead of startTest */}
                    {step === 'result' && <Result scores={scores} onRetry={goHome} />}
                </>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
